{
    "name": "mapmatching",
    "title": "Map Matching",
    "description": "Snaps raw GPS points to a road network.",
    "version": "1.0.0",
    "icon": "component-default.svg",
    "cartoEnvVars": [],
    "inputs": [
        {
            "name": "input_table",
            "title": "Trajectories table",
            "description": "Table containing the trajectories",
            "type": "Table"
        },
        {
            "name": "input_traj_id_column",
            "title": "Trajectory IDs column",
            "description": "Column containing the trajectory IDs",
            "type": "Column",
            "dataType": ["number","string"],
            "parent": "input_table",
            "noDefault": "true",
            "optional": false
        },
        {
            "name": "input_tpoints_column",
            "title": "Trajectory points column",
            "description": "Column containing the points for each trajectory",
            "type": "Column",
            "dataType": ["string"],
            "parent": "input_table",
            "noDefault": "true",
            "optional": false
        },
        {
            "name": "road_network",
            "title": "Select the road network to match",
            "description": "The road network provider.",
            "helper": "The road network provider.",
            "type": "Selection",
            "options": ["Open Street Maps", "Overture Maps Foundation"],
            "optional": false
        },
        {
            "name": "road_omv_subtype",
            "title": "Filter by category of transportation segment",
            "description": "The broad category of transportation segment. It should not be confused with a transport mode, as a segment kind has an (implied) set of default transport modes.",
            "helper": "The broad category of transportation segment. It should not be confused with a transport mode, as a segment kind has an (implied) set of default transport modes.",
            "type": "Selection",
            "options": ["Road", "Rail", "Water", "All"],
            "mode": "single",
            "showIf": [{"parameter": "road_network", "value": "Overture Maps Foundation"}]
        },
        {
            "name": "road_osm_subtype",
            "title": "Filter by category of transportation segment",
            "description": "The type of street network to retrieve.",
            "helper": "The type of street network to retrieve.",
            "type": "Selection",
            "options": ["Drive", "Bike", "Walk", "All"],
            "mode": "single",
            "showIf": [{"parameter": "road_network", "value": "Open Street Maps"}]
        },
        {
            "name": "projection_bool",
            "title": "Return projected trajectories",
            "description": "If enabled, it will return projected trajectories; otherwise, it will return original trajectories.",
            "helper": "If enabled, it will return projected trajectories; otherwise, it will return original trajectories.",
            "type": "Boolean",
            "default": false,
            "optional": false
        },
        {
            "name": "buffer_radius",
            "title": "Buffer radius (meters)",
            "description": "The padding to buffer around the trace line when intersecting it with the road network",
            "type": "Number",
            "advanced": true,
            "default": 1000
        },
        {
            "name": "distance_epsilon",
            "title": "Distance epsilon (meters)",
            "description": "The distance epsilon to use for matching.",
            "type": "Number",
            "advanced": true,
            "default": 50
        },
        {
            "name": "similarity_cutoff",
            "title": "Similarity cutoff",
            "description": "The similarity cutoff to use for stopping the algorithm.",
            "type": "Number",
            "advanced": true,
            "default": 0.9
        },
        {
            "name": "cutting_threshold",
            "title": "Cutting threshold (meters)",
            "description": "The distance threshold to use for computing cutting points.",
            "type": "Number",
            "advanced": true,
            "default": 10
        },
        {
            "name": "random_cuts",
            "title": "Random cuts",
            "description": "The number of random cuts to add at each iteration.",
            "type": "Number",
            "advanced": true,
            "default": 0
        },
        {
            "name": "distance_threshold",
            "title": "Distance threshold (meters)",
            "description": "The distance threshold above which no match is made.",
            "type": "Number",
            "advanced": true,
            "default": 10000
        }

    ],
    "outputs": [
        {
            "name": "output_table",
            "title": "Output table",
            "description": "The table with the map-matching results.",
            "type": "Table"
        }
    ]
}
